[gd_scene load_steps=33 format=3 uid="uid://2y4jdep8nq8o"]

[ext_resource type="Script" path="res://src/controllers/player_controller.gd" id="1_a4h0a"]
[ext_resource type="Script" path="res://src/levels/level_testing_zone_3.gd" id="1_m6vsq"]
[ext_resource type="Script" path="res://src/pawns/player_camera.gd" id="1_w4m8a"]
[ext_resource type="Script" path="res://src/control_contexts/player_control_context.gd" id="3_63nx1"]
[ext_resource type="PackedScene" uid="uid://be7u2b45mqsal" path="res://scenes/player/player_pawn.tscn" id="3_hiiyw"]
[ext_resource type="PackedScene" uid="uid://dxscl12yqewfx" path="res://scenes/testing/scalable_box_test.tscn" id="5_ap0ve"]
[ext_resource type="PackedScene" uid="uid://kppmflbksdwp" path="res://scenes/testing/grabbable_box_test.tscn" id="6_4c6xd"]
[ext_resource type="Script" path="res://src/health_system/hurtbox_3d.gd" id="6_qcs8f"]
[ext_resource type="PackedScene" uid="uid://yi8vwiweb4gc" path="res://scenes/platforms/platform_break.tscn" id="9_ae1nk"]
[ext_resource type="PackedScene" uid="uid://cy6ivuifibf5l" path="res://scenes/platforms/platforms_time_changers.tscn" id="10_mx6pq"]
[ext_resource type="Script" path="res://src/platforms/node_pather_3d.gd" id="11_hc7h3"]
[ext_resource type="PackedScene" uid="uid://djtdunufw16jx" path="res://scenes/testing/testing_block_wall.tscn" id="12_qjiue"]
[ext_resource type="PackedScene" uid="uid://deuviaq1np06m" path="res://scenes/damagers/spikes_damager.tscn" id="13_oj6io"]
[ext_resource type="PackedScene" uid="uid://b2r0eybabpamv" path="res://scenes/damagers/piston_spikes.tscn" id="14_ij48j"]

[sub_resource type="GDScript" id="GDScript_42wkf"]
script/source = "extends Node


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	Keyxplorer.setup(\"res://resources/input_remaps/kxm_default.tres\", true)
"

[sub_resource type="Resource" id="Resource_cpch4"]
script = ExtResource("3_63nx1")
camera_motion = Vector2(0, 0)
camera_look_direction = Vector2(0, 0)
added_direction = Vector2(0, 0)
direction = Vector2(0, 0)
last_direction = Vector2(0, 1)
direction_angle = 0.0
last_direction_angle = 0.0
last_registered_direction_angle = 0.0

[sub_resource type="BoxShape3D" id="BoxShape3D_ryg2p"]
size = Vector3(100, 1, 100)

[sub_resource type="BoxMesh" id="BoxMesh_gll08"]
size = Vector3(100, 1, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8k0yh"]
albedo_color = Color(0, 0.639216, 0, 1)

[sub_resource type="PrismMesh" id="PrismMesh_eqcwa"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ag2et"]

[sub_resource type="BoxMesh" id="BoxMesh_i8h5c"]
size = Vector3(1, 5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xpkaj"]
albedo_color = Color(0.47451, 0.278431, 0.141176, 1)

[sub_resource type="BoxMesh" id="BoxMesh_dsa6p"]
size = Vector3(3, 3, 3)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xeil8"]
albedo_color = Color(0, 0.639216, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_ju0gl"]
size = Vector3(5, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_8igj5"]
size = Vector3(5, 5, 5)

[sub_resource type="BoxMesh" id="BoxMesh_n3iqm"]
size = Vector3(5, 15, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_jnq6x"]
size = Vector3(5, 15, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_ohdc4"]
size = Vector3(4, 0.5, 4)

[sub_resource type="BoxMesh" id="BoxMesh_r83h6"]
size = Vector3(4, 0.5, 4)

[sub_resource type="Curve3D" id="Curve3D_8xejr"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 1.64219, -1.68174, -0.265469, 0, 0, 0, 0, 0, 0, 1.90718, 13.7179, 0.394897),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[node name="TestingZone3" type="Node"]
script = ExtResource("1_m6vsq")

[node name="SetupKeyxplorer" type="Node" parent="."]
script = SubResource("GDScript_42wkf")

[node name="PlayerController" type="Node" parent="." node_paths=PackedStringArray("player_camera", "pawn")]
script = ExtResource("1_a4h0a")
player_camera = NodePath("../PlayerCamera")
pawn = NodePath("../PlayerPawn")
control_context = SubResource("Resource_cpch4")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.248352, 0.96867, 0, -0.96867, 0.248352, 0, 10.1555, 3.00352)
shadow_enabled = true

[node name="PlayerCamera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.944422, 0.328735, 0, -0.328735, 0.944422, -0.1184, 2.1283, 3.77128)
current = true
script = ExtResource("1_w4m8a")

[node name="PlayerPawn" parent="." instance=ExtResource("3_hiiyw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.5735, 0, -5.92051)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.06296, 0)
collision_layer = 2
collision_mask = 23

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_ryg2p")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_gll08")
surface_material_override/0 = SubResource("StandardMaterial3D_8k0yh")

[node name="DangerousSpike" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.23595, 0, -12.3338)
mesh = SubResource("PrismMesh_eqcwa")
skeleton = NodePath("Hurtbox3D")

[node name="Hurtbox3D" type="Area3D" parent="DangerousSpike"]
collision_layer = 4
script = ExtResource("6_qcs8f")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DangerousSpike/Hurtbox3D"]
shape = SubResource("BoxShape3D_ag2et")

[node name="Tree" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.758688, 10.9283)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tree"]
mesh = SubResource("BoxMesh_i8h5c")
surface_material_override/0 = SubResource("StandardMaterial3D_xpkaj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Tree"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.2558, 0)
mesh = SubResource("BoxMesh_dsa6p")
surface_material_override/0 = SubResource("StandardMaterial3D_xeil8")

[node name="Tree2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.4988, 0.758688, 17.8339)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tree2"]
mesh = SubResource("BoxMesh_i8h5c")
surface_material_override/0 = SubResource("StandardMaterial3D_xpkaj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Tree2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.2558, 0)
mesh = SubResource("BoxMesh_dsa6p")
surface_material_override/0 = SubResource("StandardMaterial3D_xeil8")

[node name="Tree3" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.9019, 0.758688, -20.8542)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tree3"]
mesh = SubResource("BoxMesh_i8h5c")
surface_material_override/0 = SubResource("StandardMaterial3D_xpkaj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Tree3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.2558, 0)
mesh = SubResource("BoxMesh_dsa6p")
surface_material_override/0 = SubResource("StandardMaterial3D_xeil8")

[node name="Tree4" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.0806, 0.758688, -30.7305)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tree4"]
mesh = SubResource("BoxMesh_i8h5c")
surface_material_override/0 = SubResource("StandardMaterial3D_xpkaj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Tree4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.2558, 0)
mesh = SubResource("BoxMesh_dsa6p")
surface_material_override/0 = SubResource("StandardMaterial3D_xeil8")

[node name="Tree5" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.7812, 0.758688, 24.0694)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tree5"]
mesh = SubResource("BoxMesh_i8h5c")
surface_material_override/0 = SubResource("StandardMaterial3D_xpkaj")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Tree5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.2558, 0)
mesh = SubResource("BoxMesh_dsa6p")
surface_material_override/0 = SubResource("StandardMaterial3D_xeil8")

[node name="Walls" type="Node3D" parent="."]

[node name="HangWall" type="StaticBody3D" parent="Walls"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 10, 0, 10)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall"]
mesh = SubResource("BoxMesh_ju0gl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall"]
shape = SubResource("BoxShape3D_8igj5")

[node name="HangWall3" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13, 6, 10)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall3"]
mesh = SubResource("BoxMesh_n3iqm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall3"]
shape = SubResource("BoxShape3D_jnq6x")

[node name="HangWall4" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22, 6, 10)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall4"]
mesh = SubResource("BoxMesh_n3iqm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall4"]
shape = SubResource("BoxShape3D_jnq6x")

[node name="HangWall5" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13, 21, 10)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall5"]
mesh = SubResource("BoxMesh_n3iqm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall5"]
shape = SubResource("BoxShape3D_jnq6x")

[node name="HangWall6" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22, 21, 10)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall6"]
mesh = SubResource("BoxMesh_n3iqm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall6"]
shape = SubResource("BoxShape3D_jnq6x")

[node name="HangWall7" type="StaticBody3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.24081, -2.62488, 41.999)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall7"]
mesh = SubResource("BoxMesh_n3iqm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall7"]
shape = SubResource("BoxShape3D_jnq6x")

[node name="HangWall2" type="StaticBody3D" parent="Walls"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 10, -2.5, 5)
collision_layer = 2
collision_mask = 255

[node name="MeshInstance3D" type="MeshInstance3D" parent="Walls/HangWall2"]
mesh = SubResource("BoxMesh_ju0gl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls/HangWall2"]
shape = SubResource("BoxShape3D_8igj5")

[node name="GrabbableBoxTest" parent="." instance=ExtResource("6_4c6xd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 3, -4)

[node name="GrabbableBoxTest2" parent="." instance=ExtResource("6_4c6xd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.0862, 15.1449, 53.2718)

[node name="platform_break" parent="." instance=ExtResource("9_ae1nk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.69614, -0.899555, -6.19671)

[node name="PlatformsTimeChangers" parent="." instance=ExtResource("10_mx6pq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.17077, -0.25326, 3.88922)

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.2624, 13.2249, 44.1377)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("BoxShape3D_ohdc4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("BoxMesh_r83h6")

[node name="NodePather3D" type="Path3D" parent="CharacterBody3D"]
curve = SubResource("Curve3D_8xejr")
script = ExtResource("11_hc7h3")
progression_rate = 5.0

[node name="TestingObby" type="Node3D" parent="."]

[node name="ScalableBox2" parent="TestingObby" instance=ExtResource("5_ap0ve")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.41853, 3.38982, 28.1807)

[node name="ScalableBox" parent="TestingObby" instance=ExtResource("5_ap0ve")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.99506, 3.38982, 18.3121)

[node name="ScalableBox3" parent="TestingObby" instance=ExtResource("5_ap0ve")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 21.3514, 2.93629, 41.2875)

[node name="ScalableBox4" parent="TestingObby" instance=ExtResource("5_ap0ve")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.9279, 2.93629, 31.4189)

[node name="TestingBlockWall" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, -2, 1)

[node name="TestingBlockWall2" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, -2, 6)

[node name="TestingBlockWall3" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, -2, 11)

[node name="TestingBlockWall4" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, -2, 11)

[node name="TestingBlockWall5" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, -1, 16)

[node name="TestingBlockWall6" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, 0, 21)

[node name="TestingBlockWall7" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, 0, 49)

[node name="TestingBlockWall8" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 0, 49)

[node name="TestingBlockWall9" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 0, 49)

[node name="TestingBlockWall11" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 5, 54)

[node name="TestingBlockWall12" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 5, 54)

[node name="TestingBlockWall17" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 10, 54)

[node name="TestingBlockWall18" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 10, 54)

[node name="TestingBlockWall28" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 10, 49)

[node name="TestingBlockWall29" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 10, 49)

[node name="TestingBlockWall13" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 5, 44)

[node name="TestingBlockWall14" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 5, 44)

[node name="TestingBlockWall15" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 10, 44)

[node name="TestingBlockWall16" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 10, 44)

[node name="TestingBlockWall10" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 38, 0, 49)

[node name="TestingBlockWall19" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 38, 0, 44)

[node name="TestingBlockWall20" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 0, 44)

[node name="TestingBlockWall21" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 5, 44)

[node name="TestingBlockWall22" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 10, 44)

[node name="TestingBlockWall23" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 15, 44)

[node name="TestingBlockWall24" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 20, 44)

[node name="TestingBlockWall25" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 43, 25, 44)

[node name="TestingBlockWall26" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 48, 25, 44)

[node name="TestingBlockWall27" parent="TestingObby" instance=ExtResource("12_qjiue")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 53, 25, 44)

[node name="PistonSpikes" parent="." instance=ExtResource("14_ij48j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.2696, -1.56296, -15.117)

[node name="PistonSpikes2" parent="." instance=ExtResource("14_ij48j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.2696, -1.56296, -18.002)
time_to_change = 6.0

[node name="SpikesDamager" parent="." instance=ExtResource("13_oj6io")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.3341, -1.56296, -9.80233)
